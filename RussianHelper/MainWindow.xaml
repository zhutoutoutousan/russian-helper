<Window x:Class="RussianHelper.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Russian Helper - Translation &amp; Flashcards" 
        Height="700" Width="1000"
        Background="{StaticResource BackgroundBrush}"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="{StaticResource PrimaryBrush}" Padding="20,15">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="🇷🇺 Russian Helper" 
                           FontSize="24" 
                           FontWeight="Bold" 
                           Foreground="White" 
                           VerticalAlignment="Center"/>
                <TextBlock Text="| Translation &amp; Flashcards" 
                           FontSize="16" 
                           Foreground="White" 
                           VerticalAlignment="Center" 
                           Margin="15,0,0,0" 
                           Opacity="0.9"/>
            </StackPanel>
        </Border>
        
        <!-- Main Content -->
        <Grid Grid.Row="1" Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Left Panel - Translation -->
            <Border Grid.Column="0" 
                    Background="{StaticResource SurfaceBrush}" 
                    BorderBrush="{StaticResource BorderBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="20" 
                    Margin="0,0,10,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Grid.Row="0" 
                               Text="📝 Translation &amp; Pronunciation" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Foreground="{StaticResource TextPrimaryBrush}" 
                               Margin="0,0,0,15"/>
                    
                    <ScrollViewer Grid.Row="1" 
                                  VerticalScrollBarVisibility="Auto" 
                                  Margin="0,0,0,15">
                        <TextBlock x:Name="OutputTextBlock" 
                                   Text="Enter Russian text and hover over words to see translations and pronunciation guides..." 
                                   TextWrapping="Wrap" 
                                   Foreground="{StaticResource TextPrimaryBrush}" 
                                   FontSize="14" 
                                   LineHeight="20"/>
                    </ScrollViewer>
                    
                    <StackPanel Grid.Row="2" 
                                Orientation="Horizontal" 
                                HorizontalAlignment="Right">
                        <Button x:Name="CopyButton" 
                                Content="📋 Copy" 
                                Style="{StaticResource ModernButton}" 
                                Click="CopyButton_Click" 
                                Margin="0,0,10,0"/>
                        <Button x:Name="SaveButton" 
                                Content="💾 Save" 
                                Style="{StaticResource ModernButton}" 
                                Click="SaveButton_Click"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Center Panel - Controls -->
            <StackPanel Grid.Column="1" 
                        VerticalAlignment="Center" 
                        Margin="10,0">
                <Button x:Name="SwitchModeButton" 
                        Content="🔄 Switch to Flashcards" 
                        Style="{StaticResource ModernButton}" 
                        Click="SwitchModeButton_Click" 
                        Margin="0,0,0,10" 
                        Padding="20,12"/>
                
                <Button x:Name="PronunciationButton" 
                        Content="🔊 Generate Pronunciation" 
                        Style="{StaticResource ModernButton}" 
                        Click="PronunciationButton_Click" 
                        Margin="0,0,0,10" 
                        Padding="20,12"/>
                
                <Button x:Name="ClearButton" 
                        Content="🗑️ Clear" 
                        Style="{StaticResource ModernButton}" 
                        Click="ClearButton_Click" 
                        Background="{StaticResource AccentBrush}" 
                        Margin="0,0,0,10" 
                        Padding="20,12"/>
                
                <Button x:Name="GlobalHookButton" 
                        Content="🌐 Enable Hover Translation" 
                        Style="{StaticResource ModernButton}" 
                        Click="GlobalHookButton_Click" 
                        Background="{StaticResource SecondaryBrush}" 
                        Margin="0,0,0,10" 
                        Padding="20,12"/>
            </StackPanel>
            
            <!-- Right Panel - Input/Flashcards -->
            <Border Grid.Column="2" 
                    Background="{StaticResource SurfaceBrush}" 
                    BorderBrush="{StaticResource BorderBrush}" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="20" 
                    Margin="10,0,0,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Translation Mode -->
                    <StackPanel x:Name="TranslationPanel" Grid.Row="0">
                        <TextBlock Text="✍️ Enter Russian Text" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   Foreground="{StaticResource TextPrimaryBrush}" 
                                   Margin="0,0,0,15"/>
                        
                        <TextBox x:Name="InputTextBox" 
                                 Style="{StaticResource ModernTextBox}" 
                                 TextChanged="InputTextBox_TextChanged" 
                                 MouseMove="InputTextBox_MouseMove" 
                                 MouseRightButtonDown="InputTextBox_MouseRightButtonDown"
                                 MouseLeave="InputTextBox_MouseLeave" 
                                 AcceptsReturn="True" 
                                 TextWrapping="Wrap" 
                                 VerticalAlignment="Stretch" 
                                 MinHeight="100" 
                                 Margin="0,0,0,10"
                                 Text="Привет! Как дела? Я изучаю русский язык."/>
                        
                        <TextBlock x:Name="WordCountText" 
                                   Text="Words: 0" 
                                   Foreground="{StaticResource TextSecondaryBrush}" 
                                   FontSize="12" 
                                   HorizontalAlignment="Right"/>
                    </StackPanel>
                    
                    <!-- Flashcard Mode -->
                    <StackPanel x:Name="FlashcardPanel" Grid.Row="0" Visibility="Collapsed">
                        <TextBlock Text="🎯 Flashcard Game" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   Foreground="{StaticResource TextPrimaryBrush}" 
                                   Margin="0,0,0,15"/>
                        
                        <Border Background="{StaticResource PrimaryBrush}" 
                                CornerRadius="8" 
                                Padding="20" 
                                Margin="0,0,0,15">
                            <TextBlock x:Name="FlashcardWord" 
                                       Text="привет" 
                                       FontSize="32" 
                                       FontWeight="Bold" 
                                       Foreground="White" 
                                       HorizontalAlignment="Center"/>
                        </Border>
                        
                        <StackPanel Orientation="Horizontal" 
                                    HorizontalAlignment="Center">
                            <Button x:Name="ShowAnswerButton" 
                                    Content="👁️ Show Answer" 
                                    Style="{StaticResource ModernButton}" 
                                    Click="ShowAnswerButton_Click" 
                                    Margin="0,0,10,0"/>
                            <Button x:Name="NextCardButton" 
                                    Content="⏭️ Next Card" 
                                    Style="{StaticResource ModernButton}" 
                                    Click="NextCardButton_Click"/>
                        </StackPanel>
                    </StackPanel>
                    
                    <!-- Flashcard Answer -->
                    <Border x:Name="FlashcardAnswer" 
                            Grid.Row="1" 
                            Background="{StaticResource SecondaryBrush}" 
                            CornerRadius="8" 
                            Padding="20" 
                            Margin="0,10,0,0" 
                            Visibility="Collapsed">
                        <StackPanel>
                            <TextBlock x:Name="FlashcardTranslation" 
                                       Text="Hello" 
                                       FontSize="24" 
                                       FontWeight="Bold" 
                                       Foreground="White" 
                                       HorizontalAlignment="Center" 
                                       Margin="0,0,0,10"/>
                            <TextBlock x:Name="FlashcardPronunciation" 
                                       Text="[pree-vyet]" 
                                       FontSize="16" 
                                       Foreground="White" 
                                       HorizontalAlignment="Center" 
                                       Margin="0,0,0,10"/>
                            <TextBlock x:Name="FlashcardExamples" 
                                       Text="Привет, как дела? - Hello, how are you?" 
                                       FontSize="14" 
                                       Foreground="White" 
                                       HorizontalAlignment="Center" 
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- Score -->
                    <StackPanel Grid.Row="2" 
                                Orientation="Horizontal" 
                                HorizontalAlignment="Center" 
                                Margin="0,15,0,0">
                        <TextBlock Text="Score: " 
                                   Foreground="{StaticResource TextSecondaryBrush}" 
                                   FontSize="14" 
                                   VerticalAlignment="Center"/>
                        <TextBlock x:Name="ScoreText" 
                                   Text="0" 
                                   Foreground="{StaticResource PrimaryBrush}" 
                                   FontSize="16" 
                                   FontWeight="Bold" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
        
        <!-- Status Bar -->
        <Border Grid.Row="2" 
                Background="{StaticResource SurfaceBrush}" 
                BorderBrush="{StaticResource BorderBrush}" 
                BorderThickness="0,1,0,0" 
                Padding="20,8">
            <TextBlock x:Name="StatusText" 
                       Text="Ready - Hover over Russian words to see translations" 
                       Foreground="{StaticResource TextSecondaryBrush}" 
                       FontSize="12"/>
        </Border>
        
        <!-- Hover Popup -->
        <Popup x:Name="HoverPopup" 
               Placement="MousePoint" 
               PlacementTarget="{Binding ElementName=InputTextBox}" 
               IsOpen="False" 
               StaysOpen="False" 
               PopupAnimation="Fade">
            <Border Background="White" 
                    BorderBrush="{StaticResource BorderBrush}" 
                    BorderThickness="1" 
                    CornerRadius="6" 
                    Padding="15" 
                    MaxWidth="350" 
                    Effect="{StaticResource DropShadow}">
                <StackPanel>
                    <TextBlock x:Name="PopupWord" 
                               Text="привет" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Foreground="{StaticResource TextPrimaryBrush}" 
                               Margin="0,0,0,8"/>
                    <TextBlock x:Name="PopupPronunciation" 
                               Text="[pree-vyet]" 
                               FontSize="14" 
                               Foreground="{StaticResource PrimaryBrush}" 
                               Margin="0,0,0,8"/>
                    
                    <!-- Loading Indicator -->
                    <StackPanel x:Name="LoadingPanel" 
                                Orientation="Horizontal" 
                                HorizontalAlignment="Center" 
                                Margin="0,8" 
                                Visibility="Collapsed">
                        <TextBlock Text="🔄" 
                                   FontSize="16" 
                                   VerticalAlignment="Center" 
                                   Margin="0,0,8,0"/>
                        <TextBlock Text="Loading translation..." 
                                   FontSize="12" 
                                   Foreground="{StaticResource TextSecondaryBrush}" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                    
                    <TextBlock x:Name="PopupTranslation" 
                               Text="Hello" 
                               FontSize="16" 
                               Foreground="{StaticResource TextPrimaryBrush}" 
                               Margin="0,0,0,8"/>
                    <TextBlock x:Name="PopupExamples" 
                               Text="Привет, как дела? - Hello, how are you?" 
                               FontSize="12" 
                               Foreground="{StaticResource TextSecondaryBrush}" 
                               TextWrapping="Wrap"/>
                    
                    <!-- Error Message -->
                    <TextBlock x:Name="PopupError" 
                               Text="" 
                               FontSize="12" 
                               Foreground="Red" 
                               TextWrapping="Wrap" 
                               Margin="0,8,0,0" 
                               Visibility="Collapsed"/>
                </StackPanel>
            </Border>
        </Popup>
    </Grid>
</Window>
